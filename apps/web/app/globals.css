/* globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

html { scroll-behavior: smooth; }

:root { --bg: 255 255 255; --fg: 9 9 11; }
.dark { --bg: 9 9 11; --fg: 250 250 250; }

body { background: rgb(var(--bg)); color: rgb(var(--fg)); }

/* -----------------------------
   Premium Background System
   - scoped to .site-bg only
   - aurora + subtle motion
   - wash for readability
   - grid + noise + vignette
   - HEX pattern overlay
   - light leak bands (subtle)
-------------------------------- */

.site-bg { position: relative; isolation: isolate; }

/* Layer 1: Aurora blobs + gentle motion */
.site-bg::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -5;
  pointer-events: none;
  background:
    radial-gradient(900px circle at 18% 10%, rgba(99, 102, 241, 0.18), transparent 55%),
    radial-gradient(800px circle at 82% 18%, rgba(16, 185, 129, 0.12), transparent 55%),
    radial-gradient(900px circle at 50% 92%, rgba(236, 72, 153, 0.10), transparent 60%),
    radial-gradient(700px circle at 55% 45%, rgba(59, 130, 246, 0.08), transparent 58%);
  transform: translate3d(0,0,0) scale(1);
  animation: site-aurora 18s ease-in-out infinite alternate;
  will-change: transform;
  filter: saturate(1.05);
}

/* Layer 2: Wash overlay for readability */
.site-bg::after{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -4;
  pointer-events: none;
  background: linear-gradient(to bottom, rgba(255,255,255,0.38), rgba(255,255,255,0.76));
}

.dark .site-bg::after{
  background: linear-gradient(to bottom, rgba(0,0,0,0.30), rgba(0,0,0,0.92));
}

/* Layer 3: Grid + noise + vignette */
.site-bg .bg-fx{
  position: fixed;
  inset: 0;
  z-index: -3;
  pointer-events: none;

  background-image:
    /* grid */
    linear-gradient(to right, rgba(0,0,0,0.055) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0,0,0,0.055) 1px, transparent 1px),

    /* vignette / depth */
    radial-gradient(1000px circle at 50% 0%, rgba(0,0,0,0.08), transparent 60%),
    radial-gradient(1200px circle at 50% 110%, rgba(0,0,0,0.10), transparent 65%),

    /* noise */
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.25'/%3E%3C/svg%3E");

  background-size:
    72px 72px,
    72px 72px,
    auto,
    auto,
    180px 180px;

  background-repeat:
    repeat,
    repeat,
    no-repeat,
    no-repeat,
    repeat;

  opacity: 0.34;

  mask-image: radial-gradient(820px circle at 50% 18%, rgba(0,0,0,1), rgba(0,0,0,0.25) 58%, rgba(0,0,0,0) 82%);
  -webkit-mask-image: radial-gradient(820px circle at 50% 18%, rgba(0,0,0,1), rgba(0,0,0,0.25) 58%, rgba(0,0,0,0) 82%);

  mix-blend-mode: overlay;
}

.dark .site-bg .bg-fx{
  background-image:
    linear-gradient(to right, rgba(255,255,255,0.075) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,0.075) 1px, transparent 1px),
    radial-gradient(1000px circle at 50% 0%, rgba(255,255,255,0.055), transparent 60%),
    radial-gradient(1200px circle at 50% 110%, rgba(0,0,0,0.62), transparent 65%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.25'/%3E%3C/svg%3E");
  opacity: 0.26;
  mix-blend-mode: soft-light;
}

/* Layer 4: HEX pattern overlay (clean + impressive) */
.site-bg .bg-hex{
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;
  opacity: 0.22;

  /* Two angled line sets create a subtle hex/honeycomb feel */
  background-image:
    repeating-linear-gradient(
      60deg,
      rgba(0,0,0,0.055),
      rgba(0,0,0,0.055) 1px,
      transparent 1px,
      transparent 38px
    ),
    repeating-linear-gradient(
      -60deg,
      rgba(0,0,0,0.055),
      rgba(0,0,0,0.055) 1px,
      transparent 1px,
      transparent 38px
    );

  /* Focus it mostly around the top/center so it doesn't get busy */
  mask-image: radial-gradient(900px circle at 50% 22%, rgba(0,0,0,1), rgba(0,0,0,0.25) 60%, rgba(0,0,0,0) 85%);
  -webkit-mask-image: radial-gradient(900px circle at 50% 22%, rgba(0,0,0,1), rgba(0,0,0,0.25) 60%, rgba(0,0,0,0) 85%);

  mix-blend-mode: multiply;
}

.dark .site-bg .bg-hex{
  opacity: 0.16;
  background-image:
    repeating-linear-gradient(
      60deg,
      rgba(255,255,255,0.06),
      rgba(255,255,255,0.06) 1px,
      transparent 1px,
      transparent 38px
    ),
    repeating-linear-gradient(
      -60deg,
      rgba(255,255,255,0.06),
      rgba(255,255,255,0.06) 1px,
      transparent 1px,
      transparent 38px
    );
  mix-blend-mode: soft-light;
}

/* Layer 5: Cinematic light leaks (very subtle) */
.site-bg .bg-leaks{
  position: fixed;
  inset: -40%;
  z-index: -1;
  pointer-events: none;
  opacity: 0.26;
  background:
    linear-gradient(120deg, transparent 42%, rgba(99,102,241,0.13) 50%, transparent 58%),
    linear-gradient(120deg, transparent 35%, rgba(16,185,129,0.10) 48%, transparent 62%),
    linear-gradient(120deg, transparent 46%, rgba(236,72,153,0.09) 54%, transparent 64%);
  animation: leaks 26s linear infinite;
  mix-blend-mode: multiply;
}

.dark .site-bg .bg-leaks{
  opacity: 0.14;
  mix-blend-mode: screen;
}

/* Motion */
@keyframes site-aurora{
  0%   { transform: translate3d(0,0,0) scale(1); }
  100% { transform: translate3d(-14px, 10px, 0) scale(1.035); }
}

@keyframes leaks{
  0%   { transform: translateX(-18%) rotate(10deg); }
  100% { transform: translateX(18%) rotate(10deg); }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .site-bg::before{ animation: none; }
  .site-bg .bg-leaks{ animation: none; }
}
